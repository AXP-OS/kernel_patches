From 8ba4400bd7f13a7678591779abf1f72d0ce9449f Mon Sep 17 00:00:00 2001
From: Jing Zhou <jzhou70@codeaurora.org>
Date: Fri, 11 Mar 2016 17:30:50 -0800
Subject: [PATCH] msm: camera: isp: Fix warning and errors based on static
 analysis

This change fixes the warning/errors from static analysis

CRs-fixed: 992942
Change-Id: Iaf90ab4c1d17f903d03458d76cab1b4c0a5c8836
Signed-off-by: Jing Zhou <jzhou70@codeaurora.org>
CVE-2016-2061
Signed-off-by: Kevin F. Haggerty <haggertk@lineageos.org>
---
 drivers/media/platform/msm/camera_v2/isp/msm_isp_axi_util.c | 3 ++-
 drivers/media/platform/msm/camera_v2/isp/msm_isp_util.c     | 3 +--
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/media/platform/msm/camera_v2/isp/msm_isp_axi_util.c b/drivers/media/platform/msm/camera_v2/isp/msm_isp_axi_util.c
index 8fc80499049..a220a07b4cc 100644
--- a/drivers/media/platform/msm/camera_v2/isp/msm_isp_axi_util.c
+++ b/drivers/media/platform/msm/camera_v2/isp/msm_isp_axi_util.c
@@ -26,7 +26,8 @@ int msm_isp_axi_create_stream(
 	struct msm_vfe_axi_shared_data *axi_data,
 	struct msm_vfe_axi_stream_request_cmd *stream_cfg_cmd)
 {
-	int i, rc = -1;
+	int rc = -1;
+	uint32_t i;
 
 	for (i = 0; i < MAX_NUM_STREAM; i++) {
 		if (axi_data->stream_info[i].state == AVALIABLE)
diff --git a/drivers/media/platform/msm/camera_v2/isp/msm_isp_util.c b/drivers/media/platform/msm/camera_v2/isp/msm_isp_util.c
index 809afd67637..c939f37bc7d 100644
--- a/drivers/media/platform/msm/camera_v2/isp/msm_isp_util.c
+++ b/drivers/media/platform/msm/camera_v2/isp/msm_isp_util.c
@@ -1015,8 +1015,7 @@ void msm_isp_reset_burst_count_and_frame_drop(
 	    stream_info->stream_type != BURST_STREAM) {
 		return;
 	}
-	if (stream_info->stream_type == BURST_STREAM &&
-	    stream_info->num_burst_capture != 0) {
+	if (stream_info->num_burst_capture != 0) {
 		stream_cfg_cmd.axi_stream_handle =
 			stream_info->stream_handle;
 		stream_cfg_cmd.burst_count =
