From 064b8a3da4a6ddc4f94ee5ba0c78b0715f00b41c Mon Sep 17 00:00:00 2001
From: vivek mehta <mvivek@codeaurora.org>
Date: Wed, 13 Apr 2016 14:54:08 -0700
Subject: [PATCH] ASoC: msm: disable unwanted module

- disable compilation of unwanted modules

Bug: 27531992
Change-Id: I9df4efd899032fb9219a286fe469d7b2f476686f
Signed-off-by: vivek mehta <mvivek@codeaurora.org>
CVE-2016-2469
Signed-off-by: Kevin F. Haggerty <haggertk@lineageos.org>
---
 sound/soc/msm/Kconfig          | 11 -----------
 sound/soc/msm/qdsp6v2/Makefile |  1 -
 2 files changed, 12 deletions(-)

diff --git a/sound/soc/msm/Kconfig b/sound/soc/msm/Kconfig
index 7fe63cbd1d5..f3a74828c90 100644
--- a/sound/soc/msm/Kconfig
+++ b/sound/soc/msm/Kconfig
@@ -163,15 +163,6 @@ config AUDIO_OCMEM
 	 OCMEM gets exercised for low-power
 	 audio and voice use cases.
 
-config DOLBY_DAP
-	bool "Enable Dolby DAP"
-	depends on SND_SOC_MSM8974
-	help
-	 To add support for dolby DAP post processing.
-	 This support is to configure the post processing parameters
-	 to DSP. The configuration includes sending the end point
-	 device, end point dependent post processing parameters and
-	 the various posrt processing parameters
 
 config SND_SOC_MSM8974
 	tristate "SoC Machine driver for MSM8974 boards"
@@ -182,7 +173,6 @@ config SND_SOC_MSM8974
 	select SND_SOC_WCD9320
 	select SND_DYNAMIC_MINORS
 	select AUDIO_OCMEM
-	select DOLBY_DAP
 	select SND_HWDEP
 	help
 	 To add support for SoC audio on MSM8974.
@@ -216,7 +206,6 @@ config SND_SOC_MSM8226
 	select SND_SOC_MSM_HOSTLESS_PCM
 	select SND_SOC_WCD9306
 	select SND_DYNAMIC_MINORS
-	select DOLBY_DAP
 	help
 	 To add support for SoC audio on MSM8226.
 	 This will enable sound soc drivers which
diff --git a/sound/soc/msm/qdsp6v2/Makefile b/sound/soc/msm/qdsp6v2/Makefile
index f0f5db6d27f..67525ebd01a 100644
--- a/sound/soc/msm/qdsp6v2/Makefile
+++ b/sound/soc/msm/qdsp6v2/Makefile
@@ -7,7 +7,6 @@ snd-soc-qdsp6v2-objs += msm-dai-q6-v2.o msm-pcm-q6-v2.o msm-pcm-routing-v2.o \
 			msm-pcm-loopback-v2.o
 obj-$(CONFIG_SND_SOC_QDSP6V2) += snd-soc-qdsp6v2.o msm-pcm-dtmf-v2.o \
 				 msm-dai-stub-v2.o
-obj-$(CONFIG_DOLBY_DAP) += msm-dolby-dap-config.o
 obj-y += q6adm.o q6afe.o q6asm.o q6audio-v2.o q6voice.o q6core.o audio_acdb.o \
 	 rtac.o q6lsm.o
 ocmem-audio-objs += audio_ocmem.o
