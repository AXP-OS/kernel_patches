From 2167cc91261a50bf145467f4d03c8730a0d23709 Mon Sep 17 00:00:00 2001
From: Agrawal Ashish <ashishka@codeaurora.org>
Date: Wed, 12 Jul 2017 16:05:34 +0530
Subject: qcacld-2.0: Fix Integer overflow with latest framesc_linux tool

In GetContainerIesLen size type for len is tANI_U8.
len copies values from pBufRemaining.
There can be chance for interger overflow.
To avoid that make size type for len as tANI_U32.

Change-Id: I305321a6631719808ef213571974ae23b0e61bb3
CRs-Fixed: 2064580
---
 CORE/MAC/src/include/dot11f.h          | 2 +-
 CORE/SYS/legacy/src/utils/src/dot11f.c | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/CORE/MAC/src/include/dot11f.h b/CORE/MAC/src/include/dot11f.h
index fd412c2..4c028be 100644
--- a/CORE/MAC/src/include/dot11f.h
+++ b/CORE/MAC/src/include/dot11f.h
@@ -32,7 +32,7 @@
   * \brief Structures, function prototypes & definitions
   * for working with 802.11 Frames
   * This file was automatically generated by 'framesc'
-  * Tue Jul 11 15:42:30 2017 from the following file(s):
+  * Wed Jul 12 16:02:49 2017 from the following file(s):
   *
   * dot11f.frms
   *
diff --git a/CORE/SYS/legacy/src/utils/src/dot11f.c b/CORE/SYS/legacy/src/utils/src/dot11f.c
index d859168..34e3c6d 100644
--- a/CORE/SYS/legacy/src/utils/src/dot11f.c
+++ b/CORE/SYS/legacy/src/utils/src/dot11f.c
@@ -30,7 +30,7 @@
   * \brief Structures, functions & definitions for
   * working with 802.11 Frames
   * This file was automatically generated by 'framesc'
-  * Tue Jul 11 15:42:30 2017 from the following file(s):
+  * Wed Jul 12 16:02:49 2017 from the following file(s):
   *
   * dot11f.frms
   *
@@ -482,7 +482,7 @@ static tANI_U32 GetContainerIesLen(tpAniSirGlobal pCtx,
 {
     const tIEDefn *pIe, *pIeFirst;
     tANI_U8 *pBufRemaining = pBuf;
-    tANI_U8 len = 0;
+    tANI_U32 len = 0;
 
     (void)pCtx;
 
-- 
cgit v1.1

