From 58b1979bfe8577013a9ca94aade1df6ad2d1e578 Mon Sep 17 00:00:00 2001
From: gopikrishnaiah Anand <agopik@codeaurora.org>
Date: Fri, 13 Jan 2017 10:59:37 -0800
Subject: msm: mdss: fix check for igc read

IGC length is same for all versions of igc.
Remove the check for igc version in igc read function.

Change-Id: Iaa3cc91db0b2ba6a3e3fb00eb0b1ea5405e0ef9b
CRs-fixed: 1109117
Signed-off-by: Gopikrishnaiah Anand <agopik@codeaurora.org>
Signed-off-by: Ping Li <pingli@codeaurora.org>
---
 drivers/video/fbdev/msm/mdss_mdp_pp.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/drivers/video/fbdev/msm/mdss_mdp_pp.c b/drivers/video/fbdev/msm/mdss_mdp_pp.c
index 30dd3c8..c2be2cc 100644
--- a/drivers/video/fbdev/msm/mdss_mdp_pp.c
+++ b/drivers/video/fbdev/msm/mdss_mdp_pp.c
@@ -1,4 +1,4 @@
-/* Copyright (c) 2012-2016, The Linux Foundation. All rights reserved.
+/* Copyright (c) 2012-2017, The Linux Foundation. All rights reserved.
  *
  * This program is free software; you can redistribute it and/or modify
  * it under the terms of the GNU General Public License version 2 and
@@ -3980,8 +3980,7 @@ int mdss_mdp_igc_lut_config(struct msm_fb_data_type *mfd,
 	disp_num = config->block - MDP_LOGICAL_BLOCK_DISP_0;
 
 	if (config->ops & MDP_PP_OPS_READ) {
-		if (config->len != IGC_LUT_ENTRIES &&
-		    !pp_ops[IGC].pp_get_config) {
+		if (config->len != IGC_LUT_ENTRIES) {
 			pr_err("invalid len for IGC table for read %d\n",
 			       config->len);
 			return -EINVAL;
-- 
cgit v1.1

