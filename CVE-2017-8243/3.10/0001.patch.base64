diff --git a/drivers/soc/qcom/pil-msa.c b/drivers/soc/qcom/pil-msa.c
index ea6e6b6..b7ce778 100644
--- a/drivers/soc/qcom/pil-msa.c
+++ b/drivers/soc/qcom/pil-msa.c
@@ -469,15 +469,24 @@
 
 	dev_info(pil->dev, "MBA: loading from %pa to %pa\n", &mba_phys,
 								&mba_phys_end);
-	/* Load the MBA image into memory */
 	data = fw ? fw->data : NULL;
 	if (!data) {
 		dev_err(pil->dev, "MBA data is NULL\n");
 		ret = -ENOMEM;
 		goto err_mss_reset;
 	}
+	/* Load the MBA image into memory */
 	count = fw->size;
+
+	if (count > SZ_1M) {
+		dev_err(pil->dev, "%s fw image loading into memory is failed due to fw size overflow\n",
+			__func__);
+		ret = -EINVAL;
+		goto err_mss_reset;
+	}
+
 	memcpy(mba_virt, data, count);
+	/* Ensure memcpy of the MBA memory is done before loading the DP */
 	wmb();
 
 	ret = pil_mss_reset(pil);
