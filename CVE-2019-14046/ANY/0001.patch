From a2198a95c0a1a319bb6d7ed9fefa1b5e905e6418 Mon Sep 17 00:00:00 2001
From: Srikanth Uyyala <suyyala@codeaurora.org>
Date: Fri, 16 Mar 2018 17:10:30 +0530
Subject: msm: camera: isp: use correct number of entries

use ds number entries for ds reg settings

Change-Id: I885b1399590d04c056c0db40c1862db5b764db9f
Signed-off-by: Srikanth Uyyala <suyyala@codeaurora.org>
---
 drivers/media/platform/msm/camera_v2/isp/msm_isp40.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/media/platform/msm/camera_v2/isp/msm_isp40.c b/drivers/media/platform/msm/camera_v2/isp/msm_isp40.c
index de7d9ed..7d06b4b 100644
--- a/drivers/media/platform/msm/camera_v2/isp/msm_isp40.c
+++ b/drivers/media/platform/msm/camera_v2/isp/msm_isp40.c
@@ -199,7 +199,7 @@ static int32_t msm_vfe40_init_qos_parms(struct vfe_device *vfe_dev,
 	if (rc < 0 || !ds_entries) {
 		pr_err("%s: NO D/S entries found\n", __func__);
 	} else {
-		ds_settings = kcalloc(qos_entries, sizeof(uint32_t),
+		ds_settings = kcalloc(ds_entries, sizeof(uint32_t),
 				GFP_KERNEL);
 		if (!ds_settings)
 			return -ENOMEM;
-- 
cgit v1.1

