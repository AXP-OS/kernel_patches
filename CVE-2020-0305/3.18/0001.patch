diff --git a/fs/char_dev.c b/fs/char_dev.c
index 31fda1f..e892dbb 100644
--- a/fs/char_dev.c
+++ b/fs/char_dev.c
@@ -354,7 +354,7 @@
 
 	if (owner && !try_module_get(owner))
 		return NULL;
-	kobj = kobject_get(&p->kobj);
+	kobj = kobject_get_unless_zero(&p->kobj);
 	if (!kobj)
 		module_put(owner);
 	return kobj;
