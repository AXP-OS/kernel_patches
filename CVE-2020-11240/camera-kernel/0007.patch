From 2a26f41c30f96c9c05f3047997442394494040b4 Mon Sep 17 00:00:00 2001
From: Jigarkumar Zala <jzala@codeaurora.org>
Date: Wed, 8 Jul 2020 16:06:40 -0700
Subject: msm: camera: req_mgr: Remove unwanted v4l2 operation

CCI hardware is no longer register as device node with v4l2 layer.
At time of notify message, there is missing check to read subdev
name, which cause the null pointer issue. This change removes
the sudbev node reading operation with devnode pointer as it is
not being use anywhere in functionality.

CRs-Fixed: 2702760, 2727771
Change-Id: Id362bd2edf4eea35f05115ae3a5b6c1d761bb437
Signed-off-by: Jigarkumar Zala <jzala@codeaurora.org>
---
 drivers/cam_req_mgr/cam_req_mgr_dev.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/drivers/cam_req_mgr/cam_req_mgr_dev.c b/drivers/cam_req_mgr/cam_req_mgr_dev.c
index 6e0c406..81693e0 100644
--- a/drivers/cam_req_mgr/cam_req_mgr_dev.c
+++ b/drivers/cam_req_mgr/cam_req_mgr_dev.c
@@ -651,7 +651,6 @@ void cam_subdev_notify_message(u32 subdev_type,
 	struct cam_subdev *csd = NULL;
 
 	list_for_each_entry(sd, &g_dev.v4l2_dev->subdevs, list) {
-		sd->entity.name = video_device_node_name(sd->devnode);
 		if (sd->entity.function == subdev_type) {
 			csd = container_of(sd, struct cam_subdev, sd);
 			if (csd->msg_cb != NULL)
-- 
cgit v1.1

