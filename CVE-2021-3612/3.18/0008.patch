diff --git a/drivers/input/joydev.c b/drivers/input/joydev.c
index 7273639..0c13b52 100644
--- a/drivers/input/joydev.c
+++ b/drivers/input/joydev.c
@@ -502,7 +502,7 @@
 	memcpy(joydev->keypam, keypam, len);
 
 	for (i = 0; i < joydev->nkey; i++)
-		joydev->keymap[keypam[i] - BTN_MISC] = i;
+		joydev->keymap[joydev->keypam[i] - BTN_MISC] = i;
 
  out:
 	kfree(keypam);
